<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>微广告效果研究</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="../js/swiper.min_up.css">
    <link href='../dist/dragula.css' rel='stylesheet' type='text/css' />
    <link href='../example/example.css' rel='stylesheet' type='text/css' />

    <!-- Demo styles -->
    <style>
        html, body {
            position: relative;
            height: 100%;
        }

        body {
            background: #eee;
            font-family: 宋体;
            font-size: 14px;
            color: #000;
            margin: 0;
            padding: 0;
        }

        .swiper-container {
            width: 100%;
            height: 100%;

        }

        .swiper-slide {
            text-align: left;
            font-size: 18px;
            background: #fff;
            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }

        input{
            border-bottom: 1px solid ;
            border-top:0px;
            border-left:0px;
            border-right:0px;
            height: 20px;
            text-align:center;
            font-family: 宋体;
            /*vertical-align:middle;*/
            /*font-size:20px;*/
            font-weight:700;
            font-size:18px;
        }
        /*#button-next{*/
            /*margin-left: 50%;*/
        /*}*/

    </style>
</head>
<body>
<!-- Swiper -->
<div class="swiper-container">

    <div class="swiper-wrapper">
        <div class="swiper-slide">
            <div class="examples">
                <div class="parent">

                    <label>请按你喜欢的程度拖拽排序:</label>
                    <div class='wrapper'>
                        <div id='left-defaults' class='container' style="width: 130px; height: 200px;overflow: hidden; ">

                            <div class="kkk">A</div>
                            <div class="kkk">B</div>
                            <div class="kkk">C</div>
                            <div class="kkk">D</div>
                        </div>
                        <div id='right-defaults' class='container'>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="swiper-slide">
            <div>
            不同价格你会买哪样1：
                <form class="question1">
                    <table border="solid 1px">
                        <tr>
                            <td id="first_page_content1"></td>
                            <td id="first_page_content2"></td>
                        </tr>
                        <tr>
                            <td id="first_page_value1"></td>
                            <td id="first_page_value2"></td>
                        </tr>
                        <tr>
                            <td id="first_page_label1"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                            <td id="first_page_label2"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>

        <div class="swiper-slide">
            <div>
                不同价格你会买哪样2：
                <form class="question2">
                    <table border="solid 1px">
                        <tr>
                            <td id="second_page_content1"></td>
                            <td id="second_page_content2"></td>
                        </tr>
                        <tr>
                            <td id="second_page_value1"></td>
                            <td id="second_page_value2"></td>
                        </tr>
                        <tr>
                            <td id="second_page_label1"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                            <td id="second_page_label2"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>

        <div class="swiper-slide">
            <div>
                不同价格你会买哪样3：
                <form class="question3">
                    <table border="solid 1px">
                        <tr>
                            <td id="third_page_content1"></td>
                            <td id="third_page_content2"></td>
                        </tr>
                        <tr>
                            <td id="third_page_value1"></td>
                            <td id="third_page_value2"></td>
                        </tr>
                        <tr>
                            <td id="third_page_label1"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                            <td id="third_page_label2"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>

        <div class="swiper-slide">
            <div>
                不同价格你会买哪样4：
                <form id="form4">
                    <table border="solid 1px">
                        <tr>
                            <td id="fourth_page_content1"></td>
                            <td id="fourth_page_content2"></td>
                        </tr>
                        <tr>
                            <td id="fourth_page_value1"></td>
                            <td id="fourth_page_value2"></td>
                        </tr>
                        <tr>
                            <td id="fourth_page_label1"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                            <td id="fourth_page_label2"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>

        <div class="swiper-slide">
            <div>
                不同价格你会买哪样：
                <form id="form5">
                    <table border="solid 1px">
                        <tr>
                            <td id="fifth_page_content1"></td>
                            <td id="fifth_page_content2"></td>
                        </tr>
                        <tr>
                            <td id="fifth_page_value1"></td>
                            <td id="fifth_page_value2"></td>
                        </tr>
                        <tr>
                            <td id="fifth_page_label1"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                            <td id="fifth_page_label2"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>

        <div class="swiper-slide" id="dynamic_generate">
            <div>
                不同价格你会买哪样：
                <form id="form6">
                    <table border="solid 1px">
                        <tr>
                            <td id="sixth_page_content1"></td>
                            <td id="sixth_page_content2"></td>
                        </tr>
                        <tr>
                            <td id="sixth_page_value1"></td>
                            <td id="sixth_page_value2"></td>
                        </tr>
                        <tr>
                            <td id="sixth_page_label1"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                            <td id="sixth_page_label2"><label><input type="radio" name="gender" value="1" for="form1"></label></td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>



        <div class="swiper-slide">
            <h4>
                谢谢，请填写问卷。
            </h4>

        </div>
    </div>
<div class="swiper-button-next" onclick="valueDetect()"></div>
</div>


    <!--</div>-->
    <!--&lt;!&ndash; Add Pagination &ndash;&gt;-->


<!--</div>-->

<!-- Swiper JS -->
<script src="../js/swiper.min.js"></script>
<script src="../js/jquery-3.2.1.min.js"></script>
<script src='../dist/dragula.js'></script>
<script src='../example/example.min.js'></script>

<!-- Initialize Swiper -->
<script>
    var page_index = 0;
    var sort_value = [];
    var sort_price = ["价格：50", "价格：48", "价格：46", "价格：44"];

    var swiper = new Swiper('.swiper-container', {
        //pagination: '.swiper-pagination',
        // 设置方向 up
        paginationClickable: true,
        direction: 'vertical',
        allowSwipeToPrev: false,
        onlyExternal:true,
        nextButton:'.swiper-button-next',


        // 拖拽触发函数
        onSlideChangeStart: function (swiper) {

            try{
                var first_value = document.getElementById("right-defaults").getElementsByClassName("kkk")[0].innerText;
                var seconde_value = document.getElementById("right-defaults").getElementsByClassName("kkk")[1].innerText;
                var third_value = document.getElementById("right-defaults").getElementsByClassName("kkk")[2].innerText;
                var fourth_value = document.getElementById("right-defaults").getElementsByClassName("kkk")[3].innerText;

            }catch (err){
                alert("必须四个都选择,本次数据不存储,该页面自动刷新");
                location.reload();
            }

            if(document.getElementById("first_page_content1").innerText == ''){
                // 动态分配值到页面
                sort_value.push(first_value, seconde_value, third_value, fourth_value);
                dynamicAddPageValue(sort_value);

            }else {
                console.log("不用分配了");
            }
            // 页面第一页索引为0
            page_index = page_index + 1;

        }

    });

    // 每一页值检测
    function valueDetect() {
        switch (page_index){
            case 1:
                var form1_value1 = $('.question1').find(':radio:checked').val();
                detectPageValue(form1_value1);
                break;
            case 2:
                var form1_value2 = $('.question2').find(':radio:checked').val();
                detectPageValue(form1_value2);
                break;
            case 3:
                var form1_value3 = $('.question3').find(':radio:checked').val();
                detectPageValue(form1_value3);
                break;
        }

    }

    // 检测值是否为空，若空则不滑动提示
    function detectPageValue(page_value) {
        if(page_value == undefined){
            swiper.lockSwipes();
            alert("必须有选择项");
        }else {
            swiper.unlockSwipes();
        }
    }

    // 动态增加页面值
    function dynamicAddPageValue(sort_value) {
            if(Math.random() > 0.5){
                // page1
                $("#first_page_content1").append(sort_value[0]);
                $("#first_page_value1").append(sort_price[0]);
                $("#first_page_content2").append(sort_value[1]);
                $("#first_page_value2").append(sort_price[1]);
            }else {
                // page1
                $("#first_page_content1").append(sort_value[1]);
                $("#first_page_value1").append(sort_price[1]);
                $("#first_page_content2").append(sort_value[0]);
                $("#first_page_value2").append(sort_price[0]);
            }
            if(Math.random() > 0.5){
                // page2
                $("#second_page_content1").append(sort_value[1]);
                $("#second_page_value1").append(sort_price[1]);
                $("#second_page_content2").append(sort_value[2]);
                $("#second_page_value2").append(sort_price[2]);
            }else {
                // page2 third_value third_price
                $("#second_page_content1").append(sort_value[2]);
                $("#second_page_value1").append(sort_price[2]);
                $("#second_page_content2").append(sort_value[1]);
                $("#second_page_value2").append(sort_price[1]);
            }
            if(Math.random() > 0.5){
                // page3
                $("#third_page_content1").append(sort_value[2]);
                $("#third_page_value1").append(sort_price[2]);
                $("#third_page_content2").append(sort_value[3]);
                $("#third_page_value2").append(sort_price[3]);
            }else {
                // page3  third_value  third_price
                $("#third_page_content1").append(sort_value[3]);
                $("#third_page_value1").append(sort_price[3]);
                $("#third_page_content2").append(sort_value[2]);
                $("#third_page_value2").append(sort_price[2]);
            }
            if(Math.random() > 0.5){
                // page4
                $("#fourth_page_content1").append(sort_value[0]);
                $("#fourth_page_value1").append(sort_price[0]);
                $("#fourth_page_content2").append(sort_value[2]);
                $("#fourth_page_value2").append(sort_price[2]);
            }else {
                // page4 first_value first_price
                $("#fourth_page_content1").append(sort_value[2]);
                $("#fourth_page_value1").append(sort_price[2]);
                $("#fourth_page_content2").append(sort_value[0]);
                $("#fourth_page_value2").append(sort_price[0]);
            }
            if(Math.random() > 0.5){
                // page5
                $("#fifth_page_content1").append(sort_value[1]);
                $("#fifth_page_value1").append(sort_price[1]);
                $("#fifth_page_content2").append(sort_value[3]);
                $("#fifth_page_value2").append(sort_price[3]);
            }else {
                // page5 seconde_value second_price
                $("#fifth_page_content1").append(sort_value[3]);
                $("#fifth_page_value1").append(sort_price[3]);
                $("#fifth_page_content2").append(sort_value[1]);
                $("#fifth_page_value2").append(sort_price[1]);
            }
            if(Math.random() > 0.5){
                // page6
                $("#sixth_page_content1").append(sort_value[0]);
                $("#sixth_page_value1").append(sort_price[0]);
                $("#sixth_page_content2").append(sort_value[3]);
                $("#sixth_page_value2").append(sort_price[3]);
            }else {
                // page6 first_value first_price
                $("#sixth_page_content1").append(sort_value[3]);
                $("#sixth_page_value1").append(sort_price[3]);
                $("#sixth_page_content2").append(sort_value[0]);
                $("#sixth_page_value2").append(sort_price[0]);
            }

    }


</script>
</body>
</html>